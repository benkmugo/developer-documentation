{% trans_default_domain 'product_catalog' %}

{% block name_completeness_task %}
    {% set completeness = task.getEntry(product).completeness %}
    {% set progress_value = completeness.getValue() %}
    {% set progress_value_label = completeness.getValueAsFloat()|format_percent_number %}
    {% set title = 'Product name' %}
    {% set completeness = task.getEntry(product).completeness %}
    {% set subtask_progress_value = completeness.getValue() %}
    {% set subtask_progress_value_label = subtask_progress_value == 100
        ?  '(1/1)'
        :  '(0/1)'
    %}

    {% embed '@ibexadesign/product_catalog/ui/component/completeness_task.html.twig' with {
        title,
        progress_value,
        progress_value_label,
        id: 'ibexa-name-completeness-task',
    }%}
        {% trans_default_domain 'product_catalog' %}

        {% block progress_tasks_counter %}
            {{ subtask_progress_value_label }}
        {% endblock %}

        {% block body_subtasks %}
            {% set subtask_label = 'Product name' %}

            {% include '@ibexadesign/product_catalog/ui/component/completeness_subtask.html.twig' with {
                subtask_label,
                subtask_progress_value,
            }%}
        {% endblock %}
    {% endembed %}
{% endblock %}
